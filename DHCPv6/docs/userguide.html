<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Jagornet DHCPv6 Server User Guide</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.68.1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="book" lang="en">
<div class="titlepage">
<div>
<div><h1 class="title">
<a name="id387549"></a>Jagornet DHCPv6 Server User Guide</h1></div>
<div><div class="author">
<h3 class="author">
<span class="firstname">A. Gregory</span> <span class="surname">Rabil</span>
</h3>
<div class="affiliation"><span class="orgname">Jagornet Technologies, LLC<br></span></div>
</div></div>
<div><p class="pubdate">1/22/2012</p></div>
</div>
<hr>
</div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt><span class="chapter"><a href="#id435952">1. Getting Started</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#id435958">Installation</a></span></dt>
<dt><span class="section"><a href="#id436136">Running the Server</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#id436162">Startup Options</a></span></dt>
<dt><span class="section"><a href="#id436196">Linux/Unix/Mac</a></span></dt>
<dt><span class="section"><a href="#id436413">Windows</a></span></dt>
</dl></dd>
</dl></dd>
<dt><span class="chapter"><a href="#id436938">2. Configuration</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#id436945">Hierarchy</a></span></dt>
<dt><span class="section"><a href="#id437097">Server Policies</a></span></dt>
<dt><span class="section"><a href="#id439130">DHCPv6 Options</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#id439150">Server Identifier Option</a></span></dt>
<dt><span class="section"><a href="#id439234">Configuration Options</a></span></dt>
<dt><span class="section"><a href="#id440086">Generic Options</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#id440442">Filters</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#id440451">Filter Expressions</a></span></dt>
<dt><span class="section"><a href="#id441193">Filters Example</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#id441228">Links</a></span></dt>
<dd><dl><dt><span class="section"><a href="#id441237">Links Example</a></span></dt></dl></dd>
<dt><span class="section"><a href="#id441258">Pools</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#id441308">Address Pools</a></span></dt>
<dt><span class="section"><a href="#id441332">Prefix Pools</a></span></dt>
</dl></dd>
</dl></dd>
<dt><span class="chapter"><a href="#id441366">3. DHCPv6 Operational Models</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#id441534">Operational model using a DHCPv6 Relay Agent</a></span></dt>
<dt><span class="section"><a href="#id441624">Operational model without a DHCPv6 Relay Agent</a></span></dt>
</dl></dd>
<dt><span class="appendix"><a href="#id441701">A. Binding Database</a></span></dt>
<dt><span class="appendix"><a href="#id441791">B. Logging</a></span></dt>
<dt><span class="appendix"><a href="#id441842">C. Java Management Extensions (JMX)</a></span></dt>
</dl>
</div>
<div class="list-of-tables">
<p><b>List of Tables</b></p>
<dl>
<dt>2.1. <a href="#id437142">Policies</a>
</dt>
<dt>2.2. <a href="#id439296">DHCPv6 Configuration Options</a>
</dt>
<dt>2.3. <a href="#id440122">Generic Option Definitions</a>
</dt>
<dt>2.4. <a href="#id440502">Filter Option Expressions</a>
</dt>
<dt>3.1. <a href="#id441412">DHCPv6 Operational Models</a>
</dt>
</dl>
</div>
<div class="chapter" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="id435952"></a>Chapter 1. Getting Started</h2></div></div></div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt><span class="section"><a href="#id435958">Installation</a></span></dt>
<dt><span class="section"><a href="#id436136">Running the Server</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#id436162">Startup Options</a></span></dt>
<dt><span class="section"><a href="#id436196">Linux/Unix/Mac</a></span></dt>
<dt><span class="section"><a href="#id436413">Windows</a></span></dt>
</dl></dd>
</dl>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id435958"></a>Installation</h2></div></div></div>
<p>Java 6 runtime must be available on the host where the Jagornet
      DHCPv6 server will be installed. The JAVA_HOME environment variable must
      be set to the home directory of your Java 6 JRE.</p>
<div class="orderedlist"><ol type="1">
<li>
<p>Create the installation directory on the host system and
          expand the compressed installation file for your target
          platform.</p>
<div class="itemizedlist"><ul type="disc">
<li>
<p>Linux/Unix/Mac</p>
<div class="itemizedlist"><ul type="circle">
<li><p>Installation folder: <code class="code">/opt/jagornet</code></p></li>
<li><p>Compressed install file: <code class="code">dhcpv6.tar.gz</code></p></li>
<li><p><code class="code">DHCPV6_HOME=/opt/jagornet/dhcpv6</code></p></li>
</ul></div>
</li>
<li>
<p>Windows</p>
<div class="itemizedlist"><ul type="circle">
<li><p>Installation folder: <code class="code">C:\jagornet</code></p></li>
<li><p>Compressed install file: <code class="code">dhcpv6.zip</code></p></li>
<li><p><code class="code">DHCPV6_HOME=C:\jagornet\dhcpv6</code></p></li>
</ul></div>
</li>
</ul></div>
</li>
<li>
<p>After extracting the compressed files, a dhcpv6 directory will
          be created in the installation folder, with the following
          contents.</p>
<div class="itemizedlist"><ul type="disc">
<li><p><code class="code">DHCPV6_HOME/bin</code> - executable command line files. See
                  the section on <a href="#running_server">Running the Server</a>.</p></li>
<li><p><code class="code">DHCPV6_HOME/conf</code> - configuration files. See the
                  section on Configuration.</p></li>
<li><p><code class="code">DHCPV6_HOME/db</code> - database directory. See the section
                  on Binding Database.</p></li>
<li><p><code class="code">DHCPV6_HOME/docs</code> - documentation files.</p></li>
<li><p><code class="code">DHCPV6_HOME/lib</code> - Java library files.</p></li>
<li><p><code class="code">DHCPV6_HOME/log</code> - server output files. See the section
                  on Logging.</p></li>
</ul></div>
</li>
</ol></div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id436136"></a>Running the Server</h2></div></div></div>
<a name="running_server"></a><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Note</h3>
<p>To start the Jagornet DHCPv6 Server, you must have superuser or administrator access rights on the host system because the server must bind to privileged port number 547 to service client requests. Optionally, the server can be instructed to bind to a different port number for testing purposes only. See the <a href="#startup_options">Startup Options</a> for more information.</p>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id436162"></a>Startup Options</h3></div></div></div>
<a name="startup_options"></a><p>The main Java class of the Jagornet DHCPv6 Server supports the following usage:</p>
<pre class="synopsis">usage: com.jagornet.dhcpv6.server.DhcpV6Server [options]Jagornet DHCPv6 Community Edition 1.1.0
Copyright Jagornet Technologies, LLC 2009-2011.  All Rights Reserved.
  -?,--help                         Show this help page.
  -c,--configfile &lt;filename&gt;        Configuration file   
                                    (default = 
                                       $DHCPV6_HOME/
                                       conf/
                                       dhcpv6server.xml).
  -li,--list-interfaces             Show detailed interface
                                    list, then exit.
  -m,--mcast &lt;interfaces&gt;           Multicast support
                                    (default = none). Use
                                    this option without
                                    arguments to instruct
                                    the server to bind to
                                    all multicast-enabled
                                    IPv6 interfaces on the
                                    host.  Optionally, use
                                    arguments to list
                                    specific interfaces,
                                    separated by spaces.
  -p,--port &lt;portnum&gt;               Port Number (default =
                                    547).
  -tc,--test-configfile &lt;filename&gt;  Test configuration 
                                    file, then exit.
  -u,--ucast &lt;interfaces&gt;           Unicast addresses
                                    (default = all IPv6
                                    addresses). Optionally
                                    list specific IPv6
                                    addresses, separated
                                    by spaces.
  -v,--version                      Show version
                                    information, then exit.</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Note</h3>
<p>Users should NOT directly invoke the main Java class, but are encouraged to use the wrapper scripts which ensure the proper environment, classpath and Java VM arguments.  See the following sections for Linux/Unix/Mac or Windows host systems.</p>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id436196"></a>Linux/Unix/Mac</h3></div></div></div>
<p>The $DHCPV6_HOME/bin/dhcpv6 script can be used to operate the server from a command shell.  This script supports the following options:</p>
<div class="itemizedlist"><ul type="disc">
<li><p><code class="code">start [startup options]</code>  - starts the server with any startup options provided.</p></li>
<li><p><code class="code">stop</code>  - stops the server.</p></li>
<li><p><code class="code">restart [startup options]</code>  - stop and start the server.</p></li>
<li><p><code class="code">status</code>  - check if the server is running.</p></li>
<li><p><code class="code">version</code>  - display server version and exit.  A convenience option which can be used instead of 'start -v' or 'start --version'.</p></li>
<li><p><code class="code">test-configfile &lt;configfile&gt;</code>  - test server configuration file and exit. A convenience option instead of 'start -tc &lt;filename&gt;' or 'start --test-configfile &lt;filename&gt;'.</p></li>
<li><p><code class="code">list-interfaces</code>  - list host interfaces and exit. A convenience method instead of 'start -li' or 'start --list-interfaces'.</p></li>
</ul></div>
<p>Startup examples:</p>
<div class="orderedlist"><ol type="1">
<li>
<p>Display the server version and exit (any of the following):</p>
<div class="itemizedlist"><ul type="disc">
<li><p><code class="code">&gt; $DHCPV6_HOME/bin/dhcpv6 version</code></p></li>
<li><p><code class="code">&gt; $DHCPV6_HOME/bin/dhcpv6 start -v</code></p></li>
<li><p><code class="code">&gt; $DHCPV6_HOME/bin/dhcpv6 start --version</code></p></li>
</ul></div>
</li>
<li>
<p>Start the server with the default options (no multicast):</p>
<div class="itemizedlist"><ul type="disc"><li><p><code class="code">&gt; $DHCPV6_HOME/bin/dhcpv6 start</code></p></li></ul></div>
</li>
<li>
<p>Start the server on a test port with support for multicast on all IPv6 multicast-enabled interfaces</p>
<div class="itemizedlist"><ul type="disc"><li><p><code class="code">&gt; $DHCPV6_HOME/bin/dhcpv6 start -p 10547 -m</code></p></li></ul></div>
</li>
<li>
<p> Start the server with an alternate configuration file, one specific unicast address, and two specific multicast interfaces:</p>
<div class="itemizedlist"><ul type="disc"><li><p><code class="code">&gt; $DHCPV6_HOME/bin/dhcpv6 start -c conf/my-dhcpv6server.xml -u 2001:db8::1 -m eth0 eth1</code></p></li></ul></div>
</li>
</ol></div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id436413"></a>Windows</h3></div></div></div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="id436418"></a>Windows Service</h4></div></div></div>
<p>Jagornet DHCPv6 Server can operate as a Microsoft Windows Service.  Startup options <span class="emphasis"><em>must</em></span> be provided in <code class="code">DHCPV6_HOME\bin\yajsw-beta-10.2\conf\wrapper.conf.</code>  Add startup options by adding wrapper.app.parameter.# lines in the appropriate section of the wrapper.conf file. Insert a new numbered parameter for each option and for each option argument.  See the commented lines in the wrapper.conf file provided with the Jagornet DHCPv6 Server binary distribution for Windows.</p>
<p>The following batch files are provided for operating the Jagornet DHCPv6 Server as a Windows Service.</p>
<div class="itemizedlist"><ul type="disc">
<li><p><code class="code">%DHCPV6_HOME%\bin\JagornetDhcpv6.bat</code>  - run the server in the command window. Use Ctrl+C to stop.</p></li>
<li><p><code class="code">%DHCPV6_HOME%\bin\InstallJagornetDhcpv6.bat</code>  - install the Jagornet DHCPv6 Server as a Windows Service. <span class="emphasis"><em>On Windows 7 / Server 2008 this must be "Run As Administrator".</em></span></p></li>
<li><p><code class="code">%DHCPV6_HOME%\bin\UninstallJagornetDhcpv6.bat</code>  - remove the Jagornet DHCPv6 Server as a Windows Service. <span class="emphasis"><em>On Windows 7 / Server 2008 this must be "Run As Administrator".</em></span></p></li>
<li><p><code class="code">%DHCPV6_HOME%\bin\StartJagornetDhcpv6.bat</code>  - start the Jagornet DHCPv6 Server as a Windows Service. The server can also be started using the Microsoft Management Console (MMC).</p></li>
<li><p><code class="code">%DHCPV6_HOME%\bin\StopJagornetDhcpv6.bat</code>  - stop the Jagornet DHCPv6 Server as a Windows Service. The server can also be stopped using the Microsoft Management Console (MMC).</p></li>
</ul></div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="id436522"></a>Command Shell</h4></div></div></div>
<p>As an alternative to running Jagornet DHCPv6 Server as a Windows Service, the <code class="code">%DHCPV6_HOME%\bin\dhcpv6.bat</code> batch file can be used to operate the server from a command shell. Provide any desired <a href="#startup_options">startup options</a> on the command line.    Enter &lt;Ctrl+C&gt; in the command shell window to stop the server.</p>
<p>Startup examples:</p>
<div class="orderedlist"><ol type="1">
<li>
<p>Display the server version and exit (any of the following):</p>
<div class="itemizedlist"><ul type="disc">
<li><p><code class="code">&gt; %DHCPV6_HOME\bin\dhcpv6 version</code></p></li>
<li><p><code class="code">&gt; %DHCPV6_HOME\bin\dhcpv6 start -v</code></p></li>
<li><p><code class="code">&gt; %DHCPV6_HOME\bin\dhcpv6 start --version</code></p></li>
</ul></div>
</li>
<li>
<p>Start the server with the default options (no multicast):</p>
<div class="itemizedlist"><ul type="disc"><li><p><code class="code">&gt; %DHCPV6_HOME\bin\dhcpv6 start</code></p></li></ul></div>
</li>
<li>
<p>Start the server on a test port with support for multicast on all IPv6 multicast-enabled interfaces</p>
<div class="itemizedlist"><ul type="disc"><li><p><code class="code">&gt; %DHCPV6_HOME\bin\dhcpv6 start -p 10547 -m</code></p></li></ul></div>
</li>
<li>
<p> Start the server with an alternate configuration file, one specific unicast address, and two specific multicast interfaces:</p>
<div class="itemizedlist"><ul type="disc"><li><p><code class="code">&gt; %DHCPV6_HOME\bin\dhcpv6 start -c conf\my-dhcpv6server.xml -u 2001:db8::1 -m eth0 eth1</code></p></li></ul></div>
</li>
</ol></div>
</div>
</div>
</div>
</div>
<div class="chapter" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="id436938"></a>Chapter 2. Configuration</h2></div></div></div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt><span class="section"><a href="#id436945">Hierarchy</a></span></dt>
<dt><span class="section"><a href="#id437097">Server Policies</a></span></dt>
<dt><span class="section"><a href="#id439130">DHCPv6 Options</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#id439150">Server Identifier Option</a></span></dt>
<dt><span class="section"><a href="#id439234">Configuration Options</a></span></dt>
<dt><span class="section"><a href="#id440086">Generic Options</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#id440442">Filters</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#id440451">Filter Expressions</a></span></dt>
<dt><span class="section"><a href="#id441193">Filters Example</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#id441228">Links</a></span></dt>
<dd><dl><dt><span class="section"><a href="#id441237">Links Example</a></span></dt></dl></dd>
<dt><span class="section"><a href="#id441258">Pools</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#id441308">Address Pools</a></span></dt>
<dt><span class="section"><a href="#id441332">Prefix Pools</a></span></dt>
</dl></dd>
</dl>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id436945"></a>Hierarchy</h2></div></div></div>
<p>The Jagornet DHCPv6 server is configured via the <code class="code">conf/dhcpv6server.xml</code> XML document. See the <a href="#startup_options">Startup Options</a> to change the name and location of the configuration file. The XML schema which defines all server configuration elements is available at <code class="code">conf/dhcpv6server.xsd</code>. The configuration file has this general hierarchical structure:</p>
<div class="itemizedlist"><ul type="disc">
<li><p> global policies and options</p></li>
<li>
<p> global filters</p>
<div class="itemizedlist"><ul type="circle"><li><p>filter policies and options</p></li></ul></div>
</li>
<li>
<p> links</p>
<div class="itemizedlist"><ul type="circle">
<li><p>link policies and options</p></li>
<li>
<p>address/prefix pools</p>
<div class="itemizedlist"><ul type="square">
<li><p>pool policies and options</p></li>
<li>
<p>pool filters</p>
<div class="itemizedlist"><ul type="disc"><li><p>pool filter policies and options</p></li></ul></div>
</li>
</ul></div>
</li>
<li>
<p>link filters</p>
<div class="itemizedlist"><ul type="square">
<li><p>link filter policies and options</p></li>
<li>
<p>link filter address/prefix pools</p>
<div class="itemizedlist"><ul type="disc"><li><p>link filter pool policies and options</p></li></ul></div>
</li>
</ul></div>
</li>
</ul></div>
</li>
</ul></div>
<p>Policies and options are defined below and follow the natural hiearchy rules. That is, policies and options defined at a higher level apply to all lower levels unless overriden by another level in the hierarchy, which then takes precedence to the further lower levels. Options and polices cannot be removed or set to null at any level, unless specifically stated otherwise.</p>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id437097"></a>Server Policies</h2></div></div></div>
<p>Server polices are configured using the <code class="code">polices</code> element. Each <code class="code">policy</code> is specified with <code class="code">name</code> and <code class="code">value</code> elements. For example:</p>
<pre class="synopsis">&lt;policies&gt;
...  
  &lt;policy&gt;
    &lt;name&gt;sendRequestedOptionsOnly&lt;/name&gt;
    &lt;value&gt;true&lt;/value&gt;
  &lt;/policy&gt;
...
&lt;/policies&gt;</pre>
<p>The table below describes the policies available for the Jagornet DHCPv6 Server. The Hierachy Support column indicates which levels of the configuration hierarchy the policy is supported. For policies that are supported at 'all' levels, the lower level policy overrides the value of any matching higher level policy.</p>
<div class="table">
<a name="id437142"></a><p class="title"><b>Table 2.1. Policies</b></p>
<table summary="Policies" border="1">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td valign="top">
                <p><span class="bold"><strong>Policy</strong></span></p>
              </td>
<td valign="top">
                <p><span class="bold"><strong>Default Value</strong></span></p>
              </td>
<td valign="top">
                <p><span class="bold"><strong>Description</strong></span></p>
              </td>
<td valign="top">
                <p><span class="bold"><strong>Hierarchy Support</strong></span></p>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">dhcp.processor.recentMessageTimer</code></p>
              </td>
<td valign="top">
                <p><code class="code">5000</code></p>
              </td>
<td valign="top">
                <p>Number of milliseconds to keep track of recent messages.  Used to minimize replays of the same message to the server.  That is, to help mitigate denial of service (DOS) attacts.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc"><li><p> global</p></li></ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">binding.manager.reaper.startupDelay</code></p>
              </td>
<td valign="top">
                <p><code class="code">10000</code></p>
              </td>
<td valign="top">
                <p>Number of milliseconds for background thread to wait before checking for expired leases at server startup.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc"><li><p> global</p></li></ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">binding.manager.reaper.runPeriod</code></p>
              </td>
<td valign="top">
                <p><code class="code">60000</code></p>
              </td>
<td valign="top">
                <p>Number of milliseconds for background thread to wait between checks for expired leases.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc"><li><p> global</p></li></ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">binding.manager.deleteOldBindings</code></p>
              </td>
<td valign="top">
                <p><code class="code">false</code></p>
              </td>
<td valign="top">
                <p>Flag to indicate if the server should delete bindings upon expiration, or keep the binding while marking it expired.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc"><li><p> global</p></li></ul></div>
              </td>
</tr>
<tr>
<td valign="top"> </td>
<td valign="top"> </td>
<td valign="top"> </td>
<td valign="top"> </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">sendRequestedOptionsOnly</code></p>
              </td>
<td valign="top">
                <p><code class="code">false</code></p>
              </td>
<td valign="top">
                <p>Flag to indicate if the server should return only the options requested by a client in the Option Request Option (ORO) if available, or send all configured options.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc"><li><p> all</p></li></ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">supportRapidCommit</code></p>
              </td>
<td valign="top">
                <p><code class="code">false</code></p>
              </td>
<td valign="top">
                <p>Flag to indicate if the server should support clients requesting rapid commit of binding.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc">
<li><p> global</p></li>
<li><p> filter</p></li>
<li><p> link</p></li>
<li><p> linkFilter</p></li>
</ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">verifyUnknownRebind</code></p>
              </td>
<td valign="top">
                <p><code class="code">false</code></p>
              </td>
<td valign="top">
                <p>Flag to indicate if the server should attempt to verify that addresses in a client's request are appropriate for the client's link, even though that client is unknown to the server.  See section 18.2.4 of RFC 3315.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc">
<li><p> global</p></li>
<li><p> filter</p></li>
<li><p> link</p></li>
<li><p> linkFilter</p></li>
</ul></div>
              </td>
</tr>
<tr>
<td valign="top"> </td>
<td valign="top"> </td>
<td valign="top"> </td>
<td valign="top"> </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">preferredLifetime</code></p>
              </td>
<td valign="top">
                <p><code class="code">3600</code></p>
              </td>
<td valign="top">
                <p>Number of seconds for the preferred lifetime of addresses/prefixes provided by the server to the client.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc">
<li><p> global</p></li>
<li><p> link</p></li>
<li><p> pool</p></li>
</ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">validLifetime</code></p>
              </td>
<td valign="top">
                <p><code class="code">3600</code></p>
              </td>
<td valign="top">
                <p>Number of seconds for the valid lifetime of addresses/prefixes provided by the server to the client.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc">
<li><p> global</p></li>
<li><p> link</p></li>
<li><p> pool</p></li>
</ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">iaNaT1</code></p>
              </td>
<td valign="top">
                <p><code class="code">0.5</code></p>
              </td>
<td valign="top">
                <p>Percentage of shortest preferred lifetime of the addresses in the IA_NA to set the IA_NA T1 (renew) time in server replies.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc">
<li><p> global</p></li>
<li><p> link</p></li>
</ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">iaNaT2</code></p>
              </td>
<td valign="top">
                <p><code class="code">0.8</code></p>
              </td>
<td valign="top">
                <p>Percentage of shortest preferred lifetime of the addresses in the IA_NA to set the IA_NA T2 (rebind) time in server replies.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc">
<li><p> global</p></li>
<li><p> link</p></li>
</ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">iaPdT1</code></p>
              </td>
<td valign="top">
                <p><code class="code">0.5</code></p>
              </td>
<td valign="top">
                <p>Percentage of shortest preferred lifetime of the prefixes in the IA_PD to set the IA_PD T1 (renew) time in server replies.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc">
<li><p> global</p></li>
<li><p> link</p></li>
</ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">iaPdT2</code></p>
              </td>
<td valign="top">
                <p><code class="code">0.8</code></p>
              </td>
<td valign="top">
                <p>Percentage of shortest preferred lifetime of the addresses in the IA_PD to set the IA_PD T2 (rebind) time in server replies.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc">
<li><p> global</p></li>
<li><p> link</p></li>
</ul></div>
              </td>
</tr>
<tr>
<td valign="top"> </td>
<td valign="top"> </td>
<td valign="top"> </td>
<td valign="top"> </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">ddns.update</code></p>
              </td>
<td valign="top">
                <p><code class="code">none</code></p>
              </td>
<td valign="top">
                <p>Support Dynamic DNS updates for clients which send the Client FQDN option. Available values are:</p>
                <div class="itemizedlist"><ul type="disc">
<li><p> none - no DDNS updates</p></li>
<li><p> honorNoUpdate - honor client FQDN NoUpdate flag</p></li>
<li><p> honorNoAAAA - honor client FQDN NoAAAA flag</p></li>
</ul></div>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc">
<li><p> global</p></li>
<li><p> filter</p></li>
<li><p> link</p></li>
<li><p> linkFilter</p></li>
</ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">ddns.synchronize</code></p>
              </td>
<td valign="top">
                <p><code class="code">false</code></p>
              </td>
<td valign="top">
                <p>Flag to indicate if the server should sychronise DDNS updates with issuing of leases.  That is, the DHCPv6 Reply message will not be sent to the client until the DDNS update completes.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc"><li><p> all</p></li></ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">ddns.domain</code></p>
              </td>
<td valign="top"> </td>
<td valign="top">
                <p>The domain to use for the client FQDN.  If the Client FQDN option in an unqualified hostname, this domain will be appened to the hostname to form the FQDN for DDNS updates.  If the Client FQDN contains a domain name, that domain name (everything after the first label, i.e. after the first dot ".") will be replaced by this configured domain name.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc"><li><p> all</p></li></ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">ddns.ttl</code></p>
              </td>
<td valign="top">
                <p><code class="code">0.3</code></p>
              </td>
<td valign="top">
                <p>Value for the TTL of DDNS updates.  If the value is less than one(1), it is assumed to be a percentage of the valid lifetime in seconds.  If the value is greater than or equal to one(1), it assumed to be an absolute number of seconds.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc"><li><p> all</p></li></ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">ddns.server</code></p>
              </td>
<td valign="top"> </td>
<td valign="top">
                <p>The IP address of the dynamic DNS server for sending DDNS updates.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc"><li><p> all</p></li></ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">ddns.tsig.keyName</code></p>
              </td>
<td valign="top"> </td>
<td valign="top">
                <p>The name of the TSIG key for signed DDNS updates.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc"><li><p> all</p></li></ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">ddns.tsig.algorithm</code></p>
              </td>
<td valign="top"> </td>
<td valign="top">
                <p>The algorithm name used for the TSIG key for signed DDNS updates.  Currently supported value is 'hmac-sha256.'</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc"><li><p> all</p></li></ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">ddns.tsig.keyData</code></p>
              </td>
<td valign="top"> </td>
<td valign="top">
                <p>The public key data of the TSIG key in base 64 encoding.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc"><li><p> all</p></li></ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">ddns.forward.zone.name</code></p>
              </td>
<td valign="top"> </td>
<td valign="top">
                <p>The name of the dynamic zone for forward DDNS updates.  If not set, the zone will be assumed to be the ddns.domain, or if that is not set, then the portion of the client supplied FQDN which follows the first label.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc"><li><p> all</p></li></ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">ddns.forward.zone.ttl</code></p>
              </td>
<td valign="top">
                <p><code class="code">0.3</code></p>
              </td>
<td valign="top">
                <p>Value for the TTL of forward DDNS updates.  If the value is less than one(1), it is assumed to be a percentage of the valid lifetime in seconds.  If the value is greater than or equal to one(1), it assumed to be an absolute number of seconds.  This policy is only necessary if the forward DDNS TTL is different from the 'ddns.ttl' policy value.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc"><li><p> all</p></li></ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">ddns.forward.zone.server</code></p>
              </td>
<td valign="top"> </td>
<td valign="top">
                <p>The IP address of the dynamic DNS server for sending forward DDNS updates.  This policy is only necessary if the forward DDNS server is different from the 'ddns.server' policy value.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc"><li><p> all</p></li></ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">ddns.forward.zone.tsig.keyName</code></p>
              </td>
<td valign="top"> </td>
<td valign="top">
                <p>The name of the TSIG key for signed forward DDNS updates.  This policy is only necessary if the forward DDNS key name is different from the 'ddns.tsig.keyName' policy value.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc"><li><p> all</p></li></ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">ddns.forward.zone.tsig.algorithm</code></p>
              </td>
<td valign="top"> </td>
<td valign="top">
                <p>The algorithm name used for the TSIG key for signed forward DDNS updates.  This policy is only necessary if the forward DDNS algorithm is different from the 'ddns.tsig.algorithm' policy value.  Currently supported value is 'hmac-sha256.'</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc"><li><p> all</p></li></ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">ddns.forward.zone.tsig.keyData</code></p>
              </td>
<td valign="top"> </td>
<td valign="top">
                <p>The public key data of the TSIG key in base 64 encoding for signed reverse DDNS updates.  This policy is only necessary if the forward DDNS key data is different from the 'ddns.tsig.keyData' policy value.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc"><li><p> all</p></li></ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">ddns.reverse.zone.name</code></p>
              </td>
<td valign="top"> </td>
<td valign="top">
                <p>The name of the dynamic zone for reverse DDNS updates.  If not set, the zone will be assumed to be the ip6.arpa domain  corresponding to the subnet based on the 'ddns.reverse.zone.bitLength' policy below.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc"><li><p> all</p></li></ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">ddns.reverse.zone.bitLength</code></p>
              </td>
<td valign="top">
                <p><code class="code">64</code></p>
              </td>
<td valign="top">
                <p>The number of bit representing the subnet for calculating the reverse zone name.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc"><li><p> all</p></li></ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">ddns.reverse.zone.ttl</code></p>
              </td>
<td valign="top">
                <p><code class="code">0.3</code></p>
              </td>
<td valign="top">
                <p>Value for the TTL of reverse DDNS updates.  If the value is less than one(1), it is assumed to be a percentage of the valid lifetime in seconds.  If the value is greater than or equal to one(1), it assumed to be an absolute number of seconds.  This policy is only necessary if the reverse DDNS TTL is different from the 'ddns.ttl' policy value.</p>
              </td>
<td valign="top">
                <div class="itemizedlist"><ul type="disc"><li><p> all</p></li></ul></div>
              </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">ddns.reverse.zone.server</code></p>
              </td>
<td valign="top"> </td>
<td valign="top">
                <p>The IP address of the dynamic DNS server for sending reverse DDNS updates.  This policy is only necessary if the reverse DDNS server is different from the 'ddns.server' policy value.</p>
              </td>
<td valign="top"> </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">ddns.reverse.zone.tsig.keyName</code></p>
              </td>
<td valign="top"> </td>
<td valign="top">
                <p>The name of the TSIG key for signed reverse DDNS updates.  This policy is only necessary if the reverse DDNS key name is different from the 'ddns.tsig.keyName' policy value.</p>
              </td>
<td valign="top"> </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">ddns.reverse.zone.tsig.algorithm</code></p>
              </td>
<td valign="top"> </td>
<td valign="top">
                <p>The algorithm name used for the TSIG key for signed reverse DDNS updates.  This policy is only necessary if the reverse DDNS algorithm is different from the 'ddns.tsig.algorithm' policy value.  Currently supported value is 'hmac-sha256.'</p>
              </td>
<td valign="top"> </td>
</tr>
<tr>
<td valign="top">
                <p><code class="code">ddns.reverse.zone.tsig.keyData</code></p>
              </td>
<td valign="top"> </td>
<td valign="top">
                <p>The public key data of the TSIG key in base 64 encoding for signed reverse DDNS updates.  This policy is only necessary if the reverse DDNS key data is different from the 'ddns.tsig.keyData' policy value.</p>
              </td>
<td valign="top"> </td>
</tr>
<tr>
<td valign="top"> </td>
<td valign="top"> </td>
<td valign="top"> </td>
<td valign="top"> </td>
</tr>
<tr>
<td valign="top"> </td>
<td valign="top"> </td>
<td valign="top"> </td>
<td valign="top"> </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id439130"></a>DHCPv6 Options</h2></div></div></div>
<p>DHCPv6 options are configured using the <code class="code">options</code> element. Each option is specified by an element with a name of the option, for example <code class="code">dnsServersOption</code>. The Jagornet DHCPv6 server supports all options defined in RFC 3315, as well as other DHCPv6 options defined in additional RFCs.</p>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id439150"></a>Server Identifier Option</h3></div></div></div>
<p>The Server Identifier Option is required by the DHCPv6 protocol for the server to include in reply packets.  The <code class="code">serverIdOption</code> must be specified in the <code class="code">conf/dhcpv6server.xml</code> file.  The default <code class="code">conf/dhcpv6server.xml</code> file supplied with the Jagornet DHCPv6 server specifies an empty server identifier option as follows:</p>
<pre class="synopsis">&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;dhc:dhcpV6ServerConfig xmlns:dhc="http://ietf.org/dhc/dhcpv6"&gt;

    &lt;serverIdOption&gt;
        &lt;opaqueData&gt;
            &lt;hexValue/&gt;
        &lt;/opaqueData&gt;
    &lt;/serverIdOption&gt;

&lt;/dhc:dhcpV6ServerConfig&gt;</pre>
<p>Using this default configuration, a DUID-LLT, as defined by section 9.2 of RFC 3315, will be automatically generated by the Jagornet DHCPv6 server upon initial startup. This will cause the <code class="code">conf/dhcpv6server.xml</code> file to be rewritten with the generated <code class="code">serverIdOption</code>, for example:</p>
<pre class="synopsis">&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;dhc:dhcpV6ServerConfig xmlns:dhc="http://ietf.org/dhc/dhcpv6"&gt;

  &lt;serverIdOption&gt;
    &lt;opaqueData&gt;
        &lt;hexValue&gt;0001000149EFC509001E52C94D49&lt;/hexValue&gt;
    &lt;/opaqueData&gt;
  &lt;/serverIdOption&gt;

&lt;/dhc:dhcpV6ServerConfig&gt;</pre>
<p>This is the recommended way to create a server identifier. Optionally, the <code class="code">serverIdOption</code> can be specified using the <code class="code">asciiValue</code> of an opaque data option type, for example:</p>
<pre class="synopsis">&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;dhc:dhcpV6ServerConfig xmlns:dhc="http://ietf.org/dhc/dhcpv6"&gt;

    &lt;serverIdOption&gt;
        &lt;opaqueData&gt;
            &lt;asciiValue&gt;Jagornet-DHCPv6&lt;/asciiValue&gt;
        &lt;/opaqueData&gt;
    &lt;/serverIdOption&gt;

&lt;/dhc:dhcpV6ServerConfig&gt;</pre>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id439234"></a>Configuration Options</h3></div></div></div>
<p>Configuration Options are those options that can be configured for the server to return to clients in reply messages. For example, most network clients will need to know the address of one or more Doman Name System (DNS) servers. Options can be returned at three distinct "levels" within the returned DHCPv6 reply packet.</p>
<div class="orderedlist"><ol type="1">
<li><p><code class="code">msgConfigOptions</code>  - Message configuration options will be returned to the client at the outermost layer of the DHCPv6 packet. For Info-Request messages, only message configuration options are returned to the client.</p></li>
<li><p><code class="code">iaNaConfigOptions/iaTaConfigOptions/iaPdConfigOptions</code>  - Identity association configuration options will be returned to the client inside the Identity Association (IA) option within the reply message. Separate configuration options elements are available for each type of IA option, including IA_NA, IA_TA, and IA_PD options.</p></li>
<li><p><code class="code">naAddrConfigOptions/taAddrConfigOptions/prefixConfigOptions</code>  - Address configuration options will be returned to the client inside the address or prefix option within the IA option within the reply message. Separate configuration options elements are available for each of the associated IA option type.</p></li>
</ol></div>
<div class="table">
<a name="id439296"></a><p class="title"><b>Table 2.2. DHCPv6 Configuration Options</b></p>
<table summary="DHCPv6 Configuration Options" border="1">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Code</th>
<th>Name (Reference)</th>
<th>Option Element Syntax</th>
</tr></thead>
<tbody>
<tr>
<td>
                    <code class="code">7</code>
                  </td>
<td>
                    <code class="code">preferenceOption</code>
                    <p>(Section 22.8. of <a href="http://www.ietf.org/rfc/rfc3315.txt" target="_top">RFC 3315)</a> </p>
                  </td>
<td>
                    <pre class="synopsis">&lt;preferenceOption&gt;
  &lt;unsignedByte&gt;10&lt;/unsignedByte&gt;
&lt;/preferenceOption&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">12</code>
                  </td>
<td valign="middle">
                    <code class="code">serverUnicastOption</code>
                    <p>(Section 22.8. of <a href="http://www.ietf.org/rfc/rfc3315.txt" target="_top">RFC 3315)</a> </p>
                  </td>
<td>
                    <pre class="synopsis">&lt;serverUnicastOption&gt;
  &lt;ipAddress&gt;2001:db8::1&lt;/ipAddress&gt;
&lt;/serverUnicastOption&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">13</code>
                  </td>
<td>
                    <code class="code">statusCodeOption</code>
                    <p>(Section 22.13. of <a href="http://www.ietf.org/rfc/rfc3315.txt" target="_top">RFC 3315)</a></p>
                  </td>
<td>
                    <pre class="synopsis">&lt;statusCodeOption&gt;
  &lt;code&gt;5&lt;/code&gt;
  &lt;message&gt;UseMulticast&lt;/message&gt;
&lt;/statusCodeOption&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">17</code>
                  </td>
<td>
                    <code class="code">vendorInfoOption</code>
                    <p>Section 22.16. of <a href="http://www.ietf.org/rfc/rfc3315.txt" target="_top">RFC 3315</a></p>
                  </td>
<td>
                    <pre class="synopsis">&lt;vendorInfoOption&gt;
  &lt;enterpriseNumber&gt;999&lt;/enterpriseNumber&gt;
  &lt;subOptionList&gt;
    &lt;optionDef code="1" name="VendorSubopt1"&gt;
      &lt;stringOption&gt;
        &lt;string&gt;VendorSpecial&lt;/string&gt;
      &lt;/stringOption&gt;
    &lt;/optionDef&gt;
    &lt;optionDef code="2" name="VendorSubopt2"&gt;
      &lt;ipAddressOption&gt;
        &lt;ipAddress&gt;2001:db8::999&lt;/ipAddress&gt;
      &lt;/ipAddressOption&gt;
    &lt;/optionDef&gt;
  &lt;/subOptionList&gt;
&lt;/vendorInfoOption&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">21</code>
                  </td>
<td>
                    <code class="code">sipServerDomainNamesOption</code>
                    <p><a href="http://www.ietf.org/rfc/rfc3319.txt" target="_top">(RFC 3319)</a></p>
                  </td>
<td>
                    <pre class="synopsis">&lt;sipServerDomainNamesOption&gt;
  &lt;domainName&gt;sip.foo.com.&lt;/domainName&gt;
  &lt;domainName&gt;sip.bar.com.&lt;/domainName&gt;
&lt;/sipServerDomainNamesOption&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">22</code>
                  </td>
<td>
                    <code class="code">sipServerAddressesOption</code>
                    <p><a href="http://www.ietf.org/rfc/rfc3319.txt" target="_top">(RFC 3319)</a></p>
                  </td>
<td>
                    <pre class="synopsis">&lt;sipServerAddressesOption&gt;
  &lt;ipAddress&gt;2001:db8::1&lt;/ipAddress&gt;
  &lt;ipAddress&gt;2001:db8::2&lt;/ipAddress&gt;
&lt;/sipServerAddressesOption&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">23</code>
                  </td>
<td>
                    <code class="code">dnsServersOption</code>
                    <p><a href="http://www.ietf.org/rfc/rfc3646.txt" target="_top">(RFC 3646)</a></p>
                  </td>
<td>
                    <pre class="synopsis">&lt;dnsServersOption&gt;
  &lt;ipAddress&gt;2001:db8::1&lt;/ipAddress&gt;
  &lt;ipAddress&gt;2001:db8::2&lt;/ipAddress&gt;
&lt;/dnsServersOption&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">24</code>
                  </td>
<td>
                    <code class="code">domainSearchListOption</code>
                    <p><a href="http://www.ietf.org/rfc/rfc3646.txt" target="_top">(RFC 3646)</a></p>
                  </td>
<td>
                    <pre class="synopsis">&lt;domainSearchListOption&gt;
  &lt;domainName&gt;foo.com.&lt;/domainName&gt;
  &lt;domainName&gt;bar.com.&lt;/domainName&gt;
&lt;/domainSearchListOption&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">27</code>
                  </td>
<td>
                    <code class="code">nisServersOption</code>
                    <p><a href="http://www.ietf.org/rfc/rfc3898.txt" target="_top">(RFC 3898)</a></p>
                  </td>
<td>
                    <pre class="synopsis">&lt;nisServersOption&gt;
  &lt;ipAddress&gt;2001:db8::1&lt;/ipAddress&gt;
  &lt;ipAddress&gt;2001:db8::2&lt;/ipAddress&gt;
&lt;/nisServersOption&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">28</code>
                  </td>
<td>
                    <code class="code">nisPlusServersOption</code>
                    <p><a href="http://www.ietf.org/rfc/rfc3898.txt" target="_top">(RFC 3898)</a></p>
                  </td>
<td>
                    <pre class="synopsis">&lt;nisPlusServersOption&gt;
  &lt;ipAddress&gt;2001:db8::1&lt;/ipAddress&gt;
  &lt;ipAddress&gt;2001:db8::2&lt;/ipAddress&gt;
&lt;/nisPlusServersOption&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">29</code>
                  </td>
<td>
                    <code class="code">nisDomainNameOption</code>
                    <p><a href="http://www.ietf.org/rfc/rfc3898.txt" target="_top">(RFC 3898)</a></p>
                  </td>
<td>
                    <pre class="synopsis">&lt;nisDomainNameOption&gt;
  &lt;domainName&gt;foo.com.&lt;/domainName&gt;
&lt;/nisDomainNameOption&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">30</code>
                  </td>
<td>
                    <code class="code">nisPlusDomainNameOption</code>
                    <p><a href="http://www.ietf.org/rfc/rfc3898.txt" target="_top">(RFC 3898)</a></p>
                  </td>
<td>
                    <pre class="synopsis">&lt;nisPlusDomainNameOption&gt;
  &lt;domainName&gt;foo.com.&lt;/domainName&gt;
&lt;/nisPlusDomainNameOption&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">31</code>
                  </td>
<td>
                    <code class="code">sntpServersOption</code>
                    <p><a href="http://www.ietf.org/rfc/rfc4075.txt" target="_top">(RFC 4075)</a></p>
                  </td>
<td>
                    <pre class="synopsis">&lt;sntpServersOption&gt;
  &lt;ipAddress&gt;2001:db8::1&lt;/ipAddress&gt;
  &lt;ipAddress&gt;2001:db8::2&lt;/ipAddress&gt;
&lt;/sntpServersOption&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">32</code>
                  </td>
<td>
                    <code class="code">infoRefreshTimeOption</code>
                    <p><a href="http://www.ietf.org/rfc/rfc4242.txt" target="_top">(RFC 4242)</a></p>
                  </td>
<td>
                    <pre class="synopsis">&lt;infoRefreshTimeOption&gt;
  &lt;unsignedInt&gt;3600&lt;/unsignedInt&gt;
&lt;/infoRefreshTimeOption&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">33</code>
                  </td>
<td>
                    <code class="code">bcmcsDomainNamesOption</code>
                    <p><a href="http://www.ietf.org/rfc/rfc4280.txt" target="_top">(RFC 4280)</a></p>
                  </td>
<td>
                    <pre class="synopsis">&lt;bcmcsDomainNamesOption&gt;
  &lt;domainName&gt;bcmcs.foo.com.&lt;/domainName&gt;
  &lt;domainName&gt;bcmcs.bar.com.&lt;/domainName&gt;
&lt;/bcmcsDomainNamesOption&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">34</code>
                  </td>
<td>
                    <code class="code">bcmcsAddressesOption</code>
                    <p><a href="http://www.ietf.org/rfc/rfc4280.txt" target="_top">(RFC 4280)</a></p>
                  </td>
<td>
                    <pre class="synopsis">&lt;bcmcsAddressesOption&gt;
  &lt;ipAddress&gt;2001:db8::1&lt;/ipAddress&gt;
  &lt;ipAddress&gt;2001:db8::2&lt;/ipAddress&gt;
&lt;/bcmcsAddressesOption&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">36</code>
                  </td>
<td>
                    <code class="code">geoconfCivicOption</code>
                    <p><a href="http://www.ietf.org/rfc/rfc4776.txt" target="_top">(RFC 4776)</a></p>
                  </td>
<td>
                    <pre class="synopsis">&lt;geoconfCivicOption&gt;
  &lt;what&gt;1&lt;/what&gt;
  &lt;countryCode&gt;US&lt;/countryCode&gt;
  &lt;civicAddressElement&gt;
    &lt;caType&gt;0&lt;/caType&gt;
    &lt;caValue&gt;de&lt;/caValue&gt;
  &lt;/civicAddressElement&gt;
  &lt;civicAddressElement&gt;
    &lt;caType&gt;128&lt;/caType&gt;
    &lt;caValue&gt;Latn&lt;/caValue&gt;
  &lt;/civicAddressElement&gt;
  &lt;civicAddressElement&gt;
    &lt;caType&gt;1&lt;/caType&gt;
    &lt;caValue&gt;Bayern&lt;/caValue&gt;
  &lt;/civicAddressElement&gt;
&lt;/geoconfCivicOption&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">40</code>
                  </td>
<td>
                    <code class="code">panaAgentAddressOption</code>
                    <p><a href="http://www.ietf.org/rfc/rfc5192.txt" target="_top">(RFC 5192)</a></p>
                  </td>
<td>
                    <pre class="synopsis">&lt;panaAgentAddressesOption&gt;
  &lt;ipAddress&gt;2001:db8::1&lt;/ipAddress&gt;
  &lt;ipAddress&gt;2001:db8::2&lt;/ipAddress&gt;
&lt;/panaAgentAddressesOption&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">41</code>
                  </td>
<td>
                    <code class="code">newPosixTimezoneOption</code>
                    <p><a href="http://www.ietf.org/rfc/rfc4833.txt" target="_top">(RFC 4833)</a></p>
                  </td>
<td>
                    <pre class="synopsis">&lt;newPosixTimezoneOption&gt;
  &lt;string&gt;EST5EDT4,M3.2.0/02:00,M11.1.0/02:00&lt;/string&gt;
&lt;/newPosixTimezoneOption&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">42</code>
                  </td>
<td>
                    <code class="code">newTzdbTimezoneOption</code>
                    <p><a href="http://www.ietf.org/rfc/rfc4833.txt" target="_top">(RFC 4833)</a></p>
                  </td>
<td>
                    <pre class="synopsis">&lt;newTzdbTimezoneOption&gt;
  &lt;string&gt;Europe/Zurich&lt;/string&gt;
&lt;/newTzdbTimezoneOption&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">51</code>
                  </td>
<td>
                    <code class="code">lostServerDomainNameOption</code>
                    <p><a href="http://www.ietf.org/rfc/rfc5223.txt" target="_top">(RFC 5223)</a></p>
                  </td>
<td>
                    <pre class="synopsis">&lt;lostServerDomainNameOption&gt;
  &lt;domainName&gt;lost.foo.com.&lt;/domainName&gt;
&lt;/lostServerDomainNameOption&gt;</pre>
                  </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id440086"></a>Generic Options</h3></div></div></div>
<p>Generic options are used to define new option types for experimental or future options. Generic options are defined using the <code class="code">optionDef</code> element. The <code class="code">otherOptions</code> element of the configuration options can be used to add one or more new or experimental options to the options that will be sent by the server to the client. Generic options are also used when defining the <code class="code">suboptionList</code> of the Vendor Information Option as shown in the table above.</p>
<div class="section" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="id440111"></a>Option Definition Type</h4></div></div></div>
<p>The option definition type predefines several option types for use in creating new, experimental, or vendor options.</p>
<div class="table">
<a name="id440122"></a><p class="title"><b>Table 2.3. Generic Option Definitions</b></p>
<table summary="Generic Option Definitions" border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>Element</th>
<th>Generic Option Definition Syntax</th>
</tr></thead>
<tbody>
<tr>
<td>
                    <code class="code">uByteOption</code>
                  </td>
<td>
                    <pre class="synopsis">&lt;optionDef code="99" name="MyOption"&gt;
  &lt;uByteOption&gt;
    &lt;unsignedByte&gt;255&lt;/unsignedByte&gt;
  &lt;/uByteOption&gt;
&lt;/optionDef&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">uShortOption</code>
                  </td>
<td>
                    <pre class="synopsis">&lt;optionDef code="99" name="MyOption"&gt;
  &lt;uShortOption&gt;
    &lt;unsignedShort&gt;65535&lt;/unsignedShort&gt;
  &lt;/uShortOption&gt;
&lt;/optionDef&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">uShortListOption</code>
                  </td>
<td>
                    <pre class="synopsis">&lt;optionDef code="99" name="MyOption"&gt;
  &lt;uShortListOption&gt;
    &lt;unsignedShort&gt;1&lt;/unsignedShort&gt;
    &lt;unsignedShort&gt;999&lt;/unsignedShort&gt;
    &lt;unsignedShort&gt;65535&lt;/unsignedShort&gt;
  &lt;/uShortListOption&gt;
&lt;/optionDef&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">uIntOption</code>
                  </td>
<td>
                    <pre class="synopsis">&lt;optionDef code="99" name="MyOption"&gt;
  &lt;uIntOption&gt;
    &lt;unsignedInt&gt;4294697295&lt;/unsignedInt&gt;
  &lt;/uIntOption&gt;
&lt;/optionDef&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">stringOption</code>
                  </td>
<td>
                    <pre class="synopsis">&lt;optionDef code="99" name="MyOption"&gt;
  &lt;stringOption&gt;
    &lt;string&gt;myOptionStringValue&lt;/string&gt;
  &lt;/stringOption&gt;
&lt;/optionDef&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">ipAddressOption</code>
                  </td>
<td>
                    <pre class="synopsis">&lt;optionDef code="99" name="MyOption"&gt;
  &lt;ipAddressOption&gt;
    &lt;ipAddress&gt;2001:db8::1&lt;/ipAddress&gt;
  &lt;/ipAddressOption&gt;
&lt;/optionDef&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">ipAddressListOption</code>
                  </td>
<td>
                    <pre class="synopsis">&lt;optionDef code="99" name="MyOption"&gt;
  &lt;ipAddressListOption&gt;
    &lt;ipAddress&gt;2001:db8::1&lt;/ipAddress&gt;
    &lt;ipAddress&gt;2001:db8::2&lt;/ipAddress&gt;
    &lt;ipAddress&gt;2001:db8::3&lt;/ipAddress&gt;
  &lt;/ipAddressListOption&gt;
&lt;/optionDef&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">domainNameOption</code>
                  </td>
<td>
                    <pre class="synopsis">&lt;optionDef code="99" name="MyOption"&gt;
  &lt;domainNameOption&gt;
    &lt;domainName&gt;my.foo.com.&lt;/domainName&gt;
  &lt;/domainNameOption&gt;
&lt;/optionDef&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">domainNameListOption</code>
                  </td>
<td>
                    <pre class="synopsis">&lt;optionDef code="99" name="MyOption"&gt;
  &lt;domainNameListOption&gt;
    &lt;domainName&gt;my.foo.com.&lt;/domainName&gt;
    &lt;domainName&gt;my.bar.com.&lt;/domainName&gt;
    &lt;domainName&gt;my.yuk.com.&lt;/domainName&gt;
  &lt;/domainNameListOption&gt;
&lt;/optionDef&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">opaqueDataOption</code>
                  </td>
<td>
                    <pre class="synopsis">&lt;optionDef code="99" name="MyOption"&gt;
  &lt;opaqueDataOption&gt;
    &lt;opaqueData&gt;
      &lt;hexValue&gt;0123456789abcdef&lt;/hexValue&gt;
    &lt;/opaqueData&gt;
  &lt;/opaqueDataOption&gt;
&lt;/optionDef&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">opaqueDataListOption</code>
                  </td>
<td>
                    <pre class="synopsis">&lt;optionDef code="99" name="MyOption"&gt;
  &lt;opaqueDataListOption&gt;
    &lt;opaqueData&gt;
      &lt;hexValue&gt;0123456789abcdef&lt;/hexValue&gt;
    &lt;/opaqueData&gt;
    &lt;opaqueData&gt;
      &lt;asciiValue&gt;HelloWorld&lt;/asciiValue&gt;
    &lt;/opaqueData&gt;
    &lt;opaqueData&gt;
      &lt;hexValue&gt;0a1b2c3d4e5f&lt;/hexValue&gt;
    &lt;/opaqueData&gt;
  &lt;/opaqueDataListOption&gt;
&lt;/optionDef&gt;</pre>
                  </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="id440416"></a>Opaque Data Option</h4></div></div></div>
<p>Opaque data options are those options which can contain opaque, binary data. Often, these options actually contain simple ASCII strings. Therefore, the <code class="code">opaqueData</code> element contains either a <code class="code">hexValue</code> element, which specifies the binary value as a hexadecimal string, or an <code class="code">asciiValue</code> element, which specifies the ASCII string value.</p>
</div>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id440442"></a>Filters</h2></div></div></div>
<p>Filters are used to classify DHCPv6 clients so that specific configuration options can be supplied to certain classes of clients. A typical use of filters is to define a vendor class mapping to provide vendor specific information option data for clients that include the vendor class option in the request. Filters can also be used to arbitrarily group clients according to any criteria which matches one or more options supplied by the client. Each filter definition includes a name, one or more filter expressions, a set of one or more configured options, and optional server policies.</p>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id440451"></a>Filter Expressions</h3></div></div></div>
<p>If more than one filter expression is defined in a filter, then the client request must match <span class="emphasis"><em>all</em></span> of the expressions. That is, multiple filter expressions are logically <span class="emphasis"><em>anded</em></span> together to form the match criteria. Each filter expression must contain at least one option or custom expression.</p>
<div class="section" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="id440471"></a>Option Expression</h4></div></div></div>
<p>An option expression defines the criteria for matching all or part of an option provided in the client request using the generic option definition, along with a value and operator, which forms the expression. The <code class="code">optionExpression</code> element must specify the DHCPv6 option code in the <code class="code">code</code> attribute, followed by the optional <code class="code">name</code> attribute from the generic option definition type above, and the required <code class="code">operator</code> attribute, which defaults to <code class="code">'equals'</code>.</p>
<div class="table">
<a name="id440502"></a><p class="title"><b>Table 2.4. Filter Option Expressions</b></p>
<table summary="Filter Option Expressions" border="1">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Option Type</th>
<th>Available Operators</th>
<th>Example Filters Option Expression Syntax</th>
</tr></thead>
<tbody>
<tr>
<td>
                    <code class="code">uByteOption</code>
                  </td>
<td>
                    <div class="itemizedlist"><ul type="disc">
<li><p> equals</p></li>
<li><p> lessThan</p></li>
<li><p> lessThanOrEqual</p></li>
<li><p> greaterThan</p></li>
<li><p> greaterThanOrEqual</p></li>
</ul></div>
                  </td>
<td>
                    <pre class="synopsis">&lt;filterExpressions&gt;
  &lt;filterExpression&gt;
    &lt;optionExpression code="99" operator="equals"&gt;
      &lt;uByteOption&gt;
        &lt;unsignedByte&gt;255&lt;/unsignedByte&gt;
      &lt;/uByteOption&gt;
    &lt;/optionExpression&gt;
  &lt;/filterExpression&gt;
&lt;/filterExpressions&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">uShortOption</code>
                  </td>
<td>
                    <div class="itemizedlist"><ul type="disc">
<li><p> equals</p></li>
<li><p> lessThan</p></li>
<li><p> lessThanOrEqual</p></li>
<li><p> greaterThan</p></li>
<li><p> greaterThanOrEqual</p></li>
</ul></div>
                  </td>
<td>
                    <pre class="synopsis">&lt;filterExpressions&gt;
  &lt;filterExpression&gt;
    &lt;optionExpression code="99" operator="lessThan"&gt;
      &lt;uShortOption&gt;
        &lt;unsignedShort&gt;65535&lt;/unsignedShort&gt;
      &lt;/uShortOption&gt;
    &lt;/optionExpression&gt;
  &lt;/filterExpression&gt;
&lt;/filterExpressions&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">uShortListOption</code>
                  </td>
<td>
                    <div class="itemizedlist"><ul type="disc">
<li><p>equals</p></li>
<li><p>contains</p></li>
</ul></div>
                  </td>
<td>
                    <pre class="synopsis">&lt;filterExpressions&gt;
  &lt;filterExpression&gt;
    &lt;optionExpression code="99" operator="equals"&gt;
      &lt;uShortListOption&gt;
        &lt;unsignedShort&gt;1&lt;/unsignedShort&gt;        &lt;unsignedShort&gt;65535&lt;/unsignedShort&gt;
      &lt;/uShortListOption&gt;
    &lt;/optionExpression&gt;
  &lt;/filterExpression&gt;
&lt;/filterExpressions&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">uIntOption</code>
                  </td>
<td>
                    <div class="itemizedlist"><ul type="disc">
<li><p> equals</p></li>
<li><p> lessThan</p></li>
<li><p> lessThanOrEqual</p></li>
<li><p> greaterThan</p></li>
<li><p> greaterThanOrEqual</p></li>
</ul></div>
                  </td>
<td>
                    <pre class="synopsis">&lt;filterExpressions&gt;
  &lt;filterExpression&gt;
    &lt;optionExpression code="99" operator="lessThan"&gt;
      &lt;uIntOption&gt;
        &lt;unsignedInt&gt;10000&lt;/unsignedInt&gt;
      &lt;/uIntOption&gt;
    &lt;/optionExpression&gt;
  &lt;/filterExpression&gt;
&lt;/filterExpressions&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">stringOption</code>
                  </td>
<td>
                    <div class="itemizedlist"><ul type="disc">
<li><p>equals</p></li>
<li><p>startsWith</p></li>
<li><p>endsWith</p></li>
<li><p>contains</p></li>
<li><p>regExp</p></li>
</ul></div>
                  </td>
<td>
                    <pre class="synopsis">&lt;filterExpressions&gt;
  &lt;filterExpression&gt;
    &lt;optionExpression code="99" operator="endsWith"&gt;
      &lt;stringOption&gt;
        &lt;string&gt;mySuffix&lt;/string&gt;
      &lt;/stringOption&gt;
    &lt;/optionExpression&gt;
  &lt;/filterExpression&gt;
&lt;/filterExpressions&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">ipAddressOption</code>
                  </td>
<td>
                    <div class="itemizedlist"><ul type="disc">
<li><p>equals</p></li>
<li><p>startsWith</p></li>
<li><p>endsWith</p></li>
<li><p>contains</p></li>
<li><p>regExp</p></li>
</ul></div>
                  </td>
<td>
                    <pre class="synopsis">&lt;filterExpressions&gt;
  &lt;filterExpression&gt;
    &lt;optionExpression code="99" operator="equals"&gt;
      &lt;ipAddressOption&gt;
        &lt;ipAddress&gt;2001:db8::1&lt;/ipAddress&gt;
      &lt;/ipAddressOption&gt;
    &lt;/optionExpression&gt;
  &lt;/filterExpression&gt;
&lt;/filterExpressions&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">ipAddressListOption</code>
                  </td>
<td>
                    <div class="itemizedlist"><ul type="disc">
<li><p>equals</p></li>
<li><p>contains</p></li>
</ul></div>
                  </td>
<td>
                    <pre class="synopsis">&lt;filterExpressions&gt;
  &lt;filterExpression&gt;
    &lt;optionExpression code="99" operator="contains"&gt;
      &lt;ipAddressListOption&gt;
        &lt;ipAddress&gt;2001:db8::1&lt;/ipAddress&gt;
      &lt;/ipAddressListOption&gt;
    &lt;/optionExpression&gt;
  &lt;/filterExpression&gt;
&lt;/filterExpressions&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">domainNameOption</code>
                  </td>
<td>
                    <div class="itemizedlist"><ul type="disc">
<li><p>equals</p></li>
<li><p>startsWith</p></li>
<li><p>endsWith</p></li>
<li><p>contains</p></li>
<li><p>regExp</p></li>
</ul></div>
                  </td>
<td>
                    <pre class="synopsis">&lt;filterExpressions&gt;
  &lt;filterExpression&gt;
    &lt;optionExpression code="99" operator="equals"&gt;
      &lt;domainNameOption&gt;
        &lt;domainName&gt;foo.com.&lt;/domainName&gt;
      &lt;/domainNameOption&gt;
    &lt;/optionExpression&gt;
  &lt;/filterExpression&gt;
&lt;/filterExpressions&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">domainNameListOption</code>
                  </td>
<td>
                    <div class="itemizedlist"><ul type="disc">
<li><p>equals</p></li>
<li><p>contains</p></li>
</ul></div>
                  </td>
<td>
                    <pre class="synopsis">&lt;filterExpressions&gt;
  &lt;filterExpression&gt;
    &lt;optionExpression code="99" operator="contains"&gt;
      &lt;domainNameListOption&gt;
        &lt;domainName&gt;foo.com.&lt;/domainName&gt;
      &lt;/domainNameListOption&gt;
    &lt;/optionExpression&gt;
  &lt;/filterExpression&gt;
&lt;/filterExpressions&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">opaqueDataOption</code>
                  </td>
<td>
                    <div class="itemizedlist"><ul type="disc">
<li><p>equals</p></li>
<li><p>startsWith</p></li>
<li><p>endsWith</p></li>
<li><p>contains</p></li>
<li><p>regExp</p></li>
</ul></div>
                  </td>
<td>
                    <pre class="synopsis">&lt;filterExpressions&gt;
  &lt;filterExpression&gt;
    &lt;optionExpression code="99" operator="regExp"&gt;
      &lt;opaqueDataOption&gt;
        &lt;opaqueData&gt;
          &lt;asciiValue&gt;myRegularExpression&lt;/asciiValue&gt;
        &lt;/opaqueData&gt;
      &lt;/opaqueDataOption&gt;
    &lt;/optionExpression&gt;
  &lt;/filterExpression&gt;
&lt;/filterExpressions&gt;</pre>
                  </td>
</tr>
<tr>
<td>
                    <code class="code">opaqueDataListOption</code>
                  </td>
<td>
                    <div class="itemizedlist"><ul type="disc">
<li><p>equals</p></li>
<li><p>contains</p></li>
</ul></div>
                  </td>
<td>
                    <pre class="synopsis">&lt;filterExpressions&gt;
  &lt;filterExpression&gt;
    &lt;optionExpression code="99" operator="equals"&gt;
      &lt;opaqueDataOption&gt;
        &lt;opaqueData&gt;
          &lt;asciiValue&gt;opaqueAsciiData&lt;/asciiValue&gt;
        &lt;/opaqueData&gt;
      &lt;/opaqueDataOption&gt;
    &lt;/optionExpression&gt;
  &lt;/filterExpression&gt;
&lt;/filterExpressions&gt;</pre>
                  </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="id441178"></a>Custom Expressions</h4></div></div></div>
<p><span class="emphasis"><em>Custom expressions are used to define filter expressions that cannot be configured using standard option expressions. Currently, Jagornet DHCPv6 Server Community Edition does not support custom expressions.</em></span></p>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id441193"></a>Filters Example</h3></div></div></div>
<p>For example, consider the following filter definition which matches clients which supply a specific user class option value and request the domain name option in the ORO. This filter is configured to provide a specific DNS domain name for such clients.</p>
<pre class="synopsis">&lt;filters&gt;
  &lt;filter&gt;
    &lt;name&gt;UserClass Filter Group 1&lt;/name&gt;
    &lt;filterExpressions&gt;
      &lt;filterExpression&gt;
        &lt;optionExpression code="6" operator="contains"&gt;
          &lt;uShortListOption&gt;
            &lt;unsignedShort&gt;15&lt;/unsignedShort&gt;
          &lt;/uShortListOption&gt;
        &lt;/optionExpression&gt;
        &lt;optionExpression code="15" operator="equals"&gt;
          &lt;opaqueOption&gt;
            &lt;opaqueData&gt;
              &lt;asciiValue&gt;FilterUserClass&lt;/asciiValue&gt;
            &lt;/opaqueData&gt;
          &lt;/opaqueOption&gt;
        &lt;/optionExpression&gt;
      &lt;/filterExpression&gt;
    &lt;/filterExpressions&gt;
    &lt;msgConfigOptions&gt;
      &lt;domainListOption&gt;
        &lt;domainName&gt;filter.com.&lt;/domainName&gt;
      &lt;/domainListOption&gt;
    &lt;/msgConfigOptions&gt;
  &lt;/filter&gt;
&lt;/filters&gt;</pre>
<p>As another example, consider the following filter definition which matches clients which supply a vendor class option beginning with the specified ASCII value.  This filter is configured to provide the vendor specific information option for such clients.</p>
<pre class="synopsis">&lt;filters&gt;
  &lt;filter&gt;
    &lt;name&gt;VendorClass Filter Group 1&lt;/name&gt;
    &lt;filterExpressions&gt;
      &lt;filterExpression&gt;
        &lt;optionExpression code="16" operator="startsWith"&gt;
          &lt;opaqueOption&gt;
            &lt;opaqueData&gt;
              &lt;asciiValue&gt;VendorPrefix&lt;/asciiValue&gt;
            &lt;/opaqueData&gt;
          &lt;/opaqueOption&gt;
        &lt;/optionExpression&gt;
      &lt;/filterExpression&gt;
    &lt;/filterExpressions&gt;
    &lt;options&gt;
      &lt;vendorInfoOption&gt;
        &lt;enterpriseNumber&gt;999&lt;/enterpriseNumber&gt;
        &lt;subOptionList&gt;
          &lt;optionDef code="1" name="VendorSubopt1"&gt;
            &lt;stringOption&gt;
              &lt;string&gt;VendorSpecial&lt;/string&gt;
            &lt;/stringOption&gt;
          &lt;/optionDef&gt;
          &lt;optionDef code="2" name="VendorSubopt2"&gt;
            &lt;ipAddressOption&gt;
              &lt;ipAddress&gt;2001:db8::999&lt;/ipAddress&gt;
            &lt;/ipAddressOption&gt;
          &lt;/optionDef&gt;
        &lt;/subOptionList&gt;
      &lt;/vendorInfoOption&gt;
    &lt;/options&gt;
  &lt;/filter&gt;
&lt;/filters&gt;</pre>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id441228"></a>Links</h2></div></div></div>
<p>Links are used to classify DHCPv6 clients by the IPv6 link from which the client request was sent. Specifically, a link is used to define configuration parameters for client on a specific link. The link is determined by the server according to section 11 of RFC 3315. If the message is received directly and the source address is link-local, then the client is on the link attached to the server interface which received the message. If the message is received directly and the source address is not link-local, then the client is on the link identified by the source address. If the message is received from a relay agent, then the client is on the link identified by the link-address of the Relay-Forward message. Each link definition consists of a name and address, a set of one or more configured options, optional server policies, and optional filters.</p>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id441237"></a>Links Example</h3></div></div></div>
<p>For example, consider the following link definitions which match clients on individual IPv6 links. Each link is configured to provide a specific DNS server address for clients on that link.</p>
<pre class="synopsis">&lt;links&gt;
  &lt;link&gt;
    &lt;name&gt;Client Link 1&lt;/name&gt;
    &lt;address&gt;2001:DB8:1::/48&lt;/address&gt;
    &lt;msgConfigOptions&gt;
      &lt;dnsServersOption&gt;
        &lt;ipAddress&gt;2001:DB8:1::1&lt;/ipAddress&gt;
      &lt;/dnsServersOption&gt;
    &lt;/msgConfigOptions&gt;
  &lt;/link&gt;
  &lt;link&gt;
    &lt;name&gt;Client Link 2&lt;/name&gt;
    &lt;address&gt;2001:DB8:2::/48&lt;/address&gt;
    &lt;msgConfigOptions&gt;
      &lt;dnsServersOption&gt;
        &lt;ipAddress&gt;2001:DB8:2::1&lt;/ipAddress&gt;
      &lt;/dnsServersOption&gt;
    &lt;/msgConfigOptions&gt;
  &lt;/link&gt;
  &lt;link&gt;
    &lt;name&gt;Client Link 3&lt;/name&gt;
    &lt;address&gt;2001:DB8:3::/48&lt;/address&gt;
    &lt;msgConfigOptions&gt;
      &lt;dnsServersOption&gt;
        &lt;ipAddress&gt;2001:DB8:3::1&lt;/ipAddress&gt;
      &lt;/dnsServersOption&gt;
    &lt;/msgConfigOptions&gt;
  &lt;/link&gt;
&lt;/links&gt;</pre>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id441258"></a>Pools</h2></div></div></div>
<p>Pools may be defined only within Links or Link Filters. The Jagornet DHCPv6 Server supports three types of pools.</p>
<div class="orderedlist"><ol type="1">
<li><p><code class="code">naAddrPools</code>  - Non-temporary address (NA) pools</p></li>
<li><p><code class="code">taAddrPools</code>  - Temporary address (TA) pools</p></li>
<li><p><code class="code">prefixPools</code>  - Prefix delegation (PD) pools</p></li>
</ol></div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id441308"></a>Address Pools</h3></div></div></div>
<p>Non-temporary and temporary address pools are defined by the <code class="code">addressPool</code> type. The address pool must contain a <code class="code">range</code> element to define the addresses available for allocation in the pool. The range is specified using the start and end address of a range of addresses, or a prefix and length. For example:</p>
<pre class="synopsis">&lt;link&gt;
    &lt;name&gt;Client Link 2&lt;/name&gt;
    &lt;address&gt;2001:DB8:2::/48&lt;/address&gt;
    &lt;iaNaConfigOptions&gt;
        &lt;dnsServersOption&gt;
            &lt;ipAddress&gt;2001:DB8:2::1&lt;/ipAddress&gt;
        &lt;/dnsServersOption&gt;
    &lt;/iaNaConfigOptions&gt;
    &lt;naAddrPools&gt;
        &lt;pool&gt;
            &lt;range&gt;2001:DB8:2::0A-2001:DB8:2::FF&lt;/range&gt;
            &lt;addrConfigOptions&gt;
                &lt;sipServerAddressesOption&gt;
                    &lt;ipAddress&gt;2001:DB8:2::1:1&lt;/ipAddress&gt;
                &lt;/sipServerAddressesOption&gt;
            &lt;/addrConfigOptions&gt;
        &lt;/pool&gt;
        &lt;pool&gt;
            &lt;range&gt;2001:DB8:2:1::/64&lt;/range&gt;
            &lt;addrConfigOptions&gt;
                &lt;sipServerAddressesOption&gt;
                    &lt;ipAddress&gt;2001:DB8:2:1::1:1&lt;/ipAddress&gt;
                &lt;/sipServerAddressesOption&gt;
            &lt;/addrConfigOptions&gt;
        &lt;/pool&gt;
    &lt;/naAddrPools&gt;
&lt;/link&gt;</pre>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id441332"></a>Prefix Pools</h3></div></div></div>
<p>Prefix delegation pools are defined by the <code class="code">prefixPool</code> type. The prefix pool must contain a <code class="code">range</code> element to define the prefix available for delegation, and the <code class="code">prefixLength</code> element to define the size of the prefixes to allocate to requesting routers. For example:</p>
<pre class="synopsis">&lt;link&gt;
    &lt;name&gt;Prefix Delegation Link&lt;/name&gt;
    &lt;address&gt;2001:DB8:1::/48&lt;/address&gt;
    &lt;iaPdConfigOptions&gt;
        &lt;dnsServersOption&gt;
            &lt;ipAddress&gt;2001:DB8:2::1&lt;/ipAddress&gt;
        &lt;/dnsServersOption&gt;
    &lt;/iaPdConfigOptions&gt;
    &lt;prefixPools&gt;
        &lt;pool&gt;
            &lt;range&gt;2001:DB8:2::/48&lt;/range&gt;
            &lt;prefixLength&gt;64&lt;/prefixLength&gt;
            &lt;prefixConfigOptions&gt;
                &lt;sipServerAddressesOption&gt;
                    &lt;ipAddress&gt;2001:DB8:2:1::1:1&lt;/ipAddress&gt;
                &lt;/sipServerAddressesOption&gt;
            &lt;/prefixConfigOptions&gt;
        &lt;/pool&gt;
    &lt;/prefixPools&gt;
&lt;/link&gt;</pre>
</div>
</div>
</div>
<div class="chapter" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="id441366"></a>Chapter 3. DHCPv6 Operational Models</h2></div></div></div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt><span class="section"><a href="#id441534">Operational model using a DHCPv6 Relay Agent</a></span></dt>
<dt><span class="section"><a href="#id441624">Operational model without a DHCPv6 Relay Agent</a></span></dt>
</dl>
</div>
<p>IPv6 capable hosts are notified via router advertisement (RA) flags when and how to use DHCPv6.  These flags are defined in RFC 4861 as follows:</p>
<div class="orderedlist"><ol type="1">
<li><p>Managed address configuration flag (M bit) - when set, it indicates that addresses are available via Dynamic Host Configuration Protocol [DHCPv6]. If the M flag is set, the O flag is redundant and can be ignored because DHCPv6 will return all available configuration information.</p></li>
<li><p>Other configuration flag (O bit) - when set, it indicates that other configuration information is available via DHCPv6. Examples of such information are DNS-related information or information on other servers within the network.</p></li>
</ol></div>
<p>The operation of the host with respect to these flags can be summarized as follows:</p>
<div class="table">
<a name="id441412"></a><p class="title"><b>Table 3.1. DHCPv6 Operational Models</b></p>
<table summary="DHCPv6 Operational Models" border="1">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td valign="middle">
              <p> Flag</p>
            </td>
<td valign="middle">
              <p> M=1</p>
            </td>
<td valign="middle">
              <p> M=0</p>
            </td>
</tr>
<tr>
<td valign="middle">
              <p> O=1</p>
            </td>
<td valign="middle">
              <p> DHCPv6 for address and configuration information</p>
            </td>
<td valign="middle">
              <p> DHCPv6 for configuration information only</p>
            </td>
</tr>
<tr>
<td valign="middle">
              <p> O=0</p>
            </td>
<td valign="middle">
              <p> DHCPv6 for address and configuration information</p>
            </td>
<td valign="middle">
              <p> No DHCPv6</p>
            </td>
</tr>
</tbody>
</table>
</div>
<p>A host which is configured to use DHCPv6 as described above will send Solicit messages for address assignment and configuration requests or Information-Request messages for configuration-only requests to the All_DHCP_Relay_Agents_and_Servers(FF02::1:2) link-scoped multicast IPv6 address. The request message is handled either by a DHCPv6 server on the local link, or forwarded by a DHCPv6 relay agent to a DHCPv6 server on a separate network link. A DHCPv6 relay agent is available in most routers and layer 3 switches which support IPv6.</p>
<div class="section" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id441534"></a>Operational model using a DHCPv6 Relay Agent</h2></div></div></div>
<p>Most IPv6 networks will involve one or more IPv6 capable routers. Most IPv6 capable routers include an implementation of a DHCPv6 relay agent. Please consult your router vendor's documentation for details on enabling the DHCPv6 relay agent.</p>
<p>In this operational model, multicast request messages sent by the DHCPv6 clients are received by the DHCPv6 relay agent which wraps the request in a Relay-Forward message. The DHCPv6 relay agent may send the wrapped message via unicast to the address of one or more known stateless DHCPv6 servers, or to the All_DHCP_Servers site-scoped multicast address. Typically, the DHCPv6 relay agent will be configured with a list of known DHCPv6 server addresses in order to minimize multicast traffic, and for security purposes to avoid malicious or accidentally misconfigured servers. The DHCPv6 server will wrap a Reply for the client in a Relay-Reply message and unicast the wrapped message to the DHCPv6 relay which forwarded the original client request. The relay agent will send the encapsulated Reply message to the DHCPv6 client via unicast to the source address of the original client request.</p>
<p><code class="code"> ----------                  ----------                     ----------</code></p>
<p><code class="code">|          |   Multicast    |          | Unicast/Multicast |          |</code></p>
<p><code class="code">|          | -------------&gt; |          | ----------------&gt; |          |</code></p>
<p><code class="code">|          |    Request     |          |  Relay-Forward    |          |</code></p>
<p><code class="code">|  DHCPv6  |                |  DHCPv6  |    (Request)      |  DHCPv6  |</code></p>
<p><code class="code">|  Client  |                |  Relay   |                   |  Server  |</code></p>
<p><code class="code">|          |    Unicast     | (Router) |      Unicast      |          |</code></p>
<p><code class="code">|          | &lt;------------- |          | &lt;---------------- |          |</code></p>
<p><code class="code">|          |     Reply      |          |   Relay-Reply     |          |</code></p>
<p><code class="code"> ----------                  ----------      (Reply)        ----------</code></p>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id441624"></a>Operational model without a DHCPv6 Relay Agent</h2></div></div></div>
<p>Some IPv6 networks may not involve any IPv6 routers or will otherwise not utilize a DHCPv6 relay agent.</p>
<p>In this operational model, multicast request messages sent by the DHCPv6 clients are received directly by one or more DHCPv6 servers which are configured on the same link as the clients. The DHCPv6 server(s) will send the Reply message to the source address of the original client request.</p>
<p><code class="code"> ----------                  ----------</code></p>
<p><code class="code">|          |   Multicast    |          |</code></p>
<p><code class="code">|          | -------------&gt; |          |</code></p>
<p><code class="code">|          |    Request     |          |</code></p>
<p><code class="code">|  DHCPv6  |                |  DHCPv6  |</code></p>
<p><code class="code">|  Client  |                |  Server  |</code></p>
<p><code class="code">|          |    Unicast     |          |</code></p>
<p><code class="code">|          | &lt;------------- |          |</code></p>
<p><code class="code">|          |     Reply      |          |</code></p>
<p><code class="code"> ----------                  ----------</code></p>
</div>
</div>
<div class="appendix" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="id441701"></a>Appendix A. Binding Database</h2></div></div></div>
<p>The Jagornet DHCPv6 server uses an embedded <a href="http://db.apache.org/derby/" target="_top">Apache Derby</a> database server for managing the binding database. The database schema file is located in the <code class="code">db/jagornet-dhcpv6-schema.sql</code> file. At initial startup, the server will create the database in the <code class="code">db/derby</code> directory using the schema. When the server is stopped, the <code class="code">db/derby</code> directory can be deleted (<span class="bold"><strong>do not delete</strong></span> <code class="code">db/jagornet-dhcpv6-schema.sql</code>), and upon restart, the Jagornet DHCPv6 server will recreate the database. <span class="emphasis"><em>Please note that deleting the database should only be performed in test environments, or when a backup copy of the database is being restored.</em></span></p>
<p>Beginning with Jagornet DHCPv6 v1.1, the server can be configured to use an embedded <a href="http://www.h2database.com/" target="_top">H2</a> database as an alternative to Apache Derby. The database configuration is maintained in the <code class="code">conf/jdbc.properties</code> file. The default configuration sets the <code class="code">jdbc.user, jdbc.password, jdbc.driver, and jdbc.url</code> properties for Derby. To switch to H2, simply comment out (insert a # at the line beginning) the default properties and uncomment the corresponding properties in the H2 section. At initial startup, the server will create the database in the <code class="code">db/h2</code> directory using the schema. When the server is stopped, the <code class="code">db/h2</code> directory can be deleted (<span class="bold"><strong>do not delete</strong></span> <code class="code">db/jagornet-dhcpv6-schema.sql</code>), and upon restart, the Jagornet DHCPv6 server will recreate the database. <span class="emphasis"><em>Please note that deleting the database should only be performed in test environments, or when a backup copy of the database is being restored.</em></span></p>
</div>
<div class="appendix" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="id441791"></a>Appendix B. Logging</h2></div></div></div>
<p>Logging for the Jagornet DHCPv6 server is performed using the <a href="http://logging.apache.org/log4j/1.2/index.html" target="_top">Apache Log4J</a> logging service. The default Log4J configuration file is located in the <code class="code">conf/log4j.properties</code> file. The server writes all intial startup messages to the standard output and error streams, which are redirected by the <code class="code">bin/dhcpv6</code> script to the <code class="code">log/dhcpv6server.out</code> file. After the server initialization, all messages are created via Log4J and configured by the <code class="code">conf/log4j.properties</code> file. The default file outputs all server messages to the <code class="code">log/dhcpv6server.log</code> rolling file. When the file reaches 10MB, it is "rolled" over to a new <code class="code">log/dhcpv6server.log.#</code> file up to ten files of logging history. These settings are controlled by the <code class="code">log4j.appender.Logfile</code> properties.</p>
</div>
<div class="appendix" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="id441842"></a>Appendix C. Java Management Extensions (JMX)</h2></div></div></div>
<p>The Jagornet DHCPv6 Server supports Java Management Extensions (JMX) for dynamically configuring logging parameters and for monitoring server statistics. Support for JMX is available in Sun's JRE 6. For more information, please see  the <a href="http://java.sun.com/javase/6/docs/technotes/guides/management/agent.html" target="_top">Java SE Management and Monitoring Guide</a> .</p>
</div>
</div></body>
</html>
